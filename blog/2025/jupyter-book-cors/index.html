<!doctype html><!-- This site was created with Hugo Blox. https://hugoblox.com --><!-- Last Published: March 6, 2025 --><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo Blox Builder 5.9.7"><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Work+Sans:wght@400;700" rel=stylesheet><script defer data-domain=2i2c.org src=https://plausible.io/js/script.js></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><link rel=stylesheet href=/css/vendor-bundle.min.26c458e6907dc03073573976b7f4044e.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.4/css/academicons.min.css integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css integrity crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=/css/wowchemy.1ef2b246940d070848099a3a4379e00d.css><link rel=stylesheet href=/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=/css/libs/chroma/dracula.min.css title=hl-dark media=print onload='this.media="all"' disabled><meta name=author content="Chris Holdgraf"><meta name=description content="A key challenge in the open source space is that projects are often independent and autonomous, with relatively few formal ways to collaborate and coordinate efforts. While this usually isn&rsquo;t a big deal, it means that there is a missed opportunity to grow the impact of an ecosystem because it requires coordinated development among multiple stakeholders within it."><link rel=alternate hreflang=en-us href=https://2i2c.org/blog/2025/jupyter-book-cors/><link rel=canonical href=https://2i2c.org/blog/2025/jupyter-book-cors/><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu8b94e13e0b17eede442ff7e6dd19ef02_1559_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu8b94e13e0b17eede442ff7e6dd19ef02_1559_180x180_fill_lanczos_center_3.png><meta name=theme-color content="rgb(29, 78, 245)"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@2i2c_org"><meta property="twitter:creator" content="@2i2c_org"><meta property="twitter:image" content="https://2i2c.org/blog/2025/jupyter-book-cors/featured.png"><meta property="og:type" content="website"><meta property="og:site_name" content="2i2c"><meta property="og:url" content="https://2i2c.org/blog/2025/jupyter-book-cors/"><meta property="og:title" content="Designing for an ecosystem: a case study in cross-project open source contribution | 2i2c"><meta property="og:description" content="A key challenge in the open source space is that projects are often independent and autonomous, with relatively few formal ways to collaborate and coordinate efforts. While this usually isn&rsquo;t a big deal, it means that there is a missed opportunity to grow the impact of an ecosystem because it requires coordinated development among multiple stakeholders within it."><meta property="og:image" content="https://2i2c.org/blog/2025/jupyter-book-cors/featured.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2025-01-21T00:00:00+00:00"><meta property="article:modified_time" content="2025-01-21T00:00:00+00:00"><title>Designing for an ecosystem: a case study in cross-project open source contribution | 2i2c</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=8d69958597250c9e86925706aaf80654><script src=/js/wowchemy-init.min.1db830ffe01a1cc59425dcc73c1fdaa8.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class="page-header header--fixed"><header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/><img src=/media/logo.svg alt=2i2c></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/><img src=/media/logo.svg alt=2i2c></a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/platform/><span>Platform</span></a></li><li class=nav-item><a class=nav-link href=/communities/><span>Impact</span></a></li><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>Service Principles</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/open-technology/><span>Commitment to Open Technology</span></a>
<a class=dropdown-item href=/right-to-replicate/><span>Right to Replicate</span></a></div></li><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>About</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/mission/><span>Mission and goals</span></a>
<a class=dropdown-item href=/organization/><span>Our team</span></a>
<a class=dropdown-item href=/about/funding/><span>How we're funded</span></a>
<a class=dropdown-item href=/projects/><span>Projects we support</span></a>
<a class=dropdown-item href=/founders/><span>Origin story</span></a>
<a class=dropdown-item href=/jobs/><span>Jobs at 2i2c</span></a>
<a class=dropdown-item href=/collaborate/><span>Contact us to collaborate</span></a>
<a class=dropdown-item href=/brand/><span>Design and brand assets</span></a>
<a class=dropdown-item href=/donate/><span>Donate to 2i2c</span></a></div></li></ul><ul class="navbar-nav ml-md-auto"><li class=nav-item><a class=nav-link href=https://docs.2i2c.org/support target=_blank rel=noopener><span>support</span></a></li><li class=nav-item><a class=nav-link href=/blog><span>blog</span></a></li><li class=nav-item><a class=nav-link href=https://docs.2i2c.org target=_blank rel=noopener><span>docs</span></a></li><li class=nav-item><a class=nav-link href=/join><span>join us</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li><li class="nav-item dropdown theme-dropdown"><a href=# class=nav-link data-toggle=dropdown aria-haspopup=true aria-label="Display preferences"><i class="fas fa-moon" aria-hidden=true></i></a><div class=dropdown-menu><a href=# class="dropdown-item js-set-theme-light"><span>Light</span>
</a><a href=# class="dropdown-item js-set-theme-dark"><span>Dark</span>
</a><a href=# class="dropdown-item js-set-theme-auto"><span>Automatic</span></a></div></li></ul></div></nav></header></div><div class=page-body><article class=article><div class="article-container pt-3"><h1>Designing for an ecosystem: a case study in cross-project open source contribution</h1><div class=article-metadata><div><span><a href=/author/chris-holdgraf/>Chris Holdgraf</a></span>, <span><a href=/author/angus-hollands/>Angus Hollands</a></span></div><span class=article-date>Jan 21, 2025
</span><span class=middot-divider></span>
<span class=article-categories><i class="fas fa-folder mr-1"></i><a href=/category/impact/>Impact</a></span></div></div><div class="article-header article-container featured-image-wrapper mt-4 mb-4" style=max-width:720px;max-height:434px><div style=position:relative><img src=/blog/2025/jupyter-book-cors/featured_hu68ed84c685f4d67988faae4e8daa0467_37892_0df52c87f6e5f83675f94ff37712e650.webp width=720 height=434 alt class=featured-image></div></div><div class=article-container><div class=article-style><p>A key challenge in the open source space is that projects are often independent and autonomous, with relatively few formal ways to collaborate and coordinate efforts. While this usually isn&rsquo;t a big deal, it means that there is a missed opportunity to grow the impact of an ecosystem because it requires coordinated development among multiple stakeholders within it.</p><p>This is one of the reasons we created 2i2c&rsquo;s open community hub platform. By deploying a single platform that utilizes entirely open infrastructure that we contribute back to, we have visibility over a variety of projects along with the need to combine them together for a specific end-user outcome. One-such development scenario recently came up involving
<a href=https://next.jupyterbook.org/ target=_blank rel=noopener>Jupyter Book 2</a> and
<a href=https://jupyterhub.org/ target=_blank rel=noopener>JupyterHub</a>.</p><h2 id=allowing-readers-to-bring-their-own-binders>Allowing readers to &ldquo;bring their own Binders&rdquo;
<a class=header-anchor href=#allowing-readers-to-bring-their-own-binders>#</a></h2><p>We&rsquo;ve recently been working to integrate
<a href=https://next.jupyterbook.org/ target=_blank rel=noopener>Jupyter Book 2</a> workflows with our community hubs for a more seamless experience (for example, having book pages link back to interactive cloud sessions that allow users to interact with the content). We imagine a network of Jupyter Books that all build upon the same core infrastructures (JupyterHub, Binder, etc) for cloud-based computing. Our hope is to allow a user to <em>bring their own Binder</em> with them so that they can interact with another book&rsquo;s content with their own cloud infrastructure. For example:</p><ul><li>A student with access to <code>binder.myuniversity.edu</code> could read a Jupyter Book created by a professor at <code>otheruniversity.edu</code>.</li><li>The Jupyter Book is defined with a
<a href=https://repo2docker.readthedocs.io/en/latest/specification.html target=_blank rel=noopener>Binder specification</a> that has a recipe for re-building the environment needed to run te book&rsquo;s content.</li><li>From the professor&rsquo;s book, the student can choose to launch an interactive Binder sessions on <em>their university&rsquo;s Binder</em>, allowing them to interact with the book&rsquo;s content on their own infrastructure.</li></ul><p>We want a workflow like this to be as seamless and un-complicated as possible. We also want it to follow the same fundamental workflow as the
<a href=https://docs.2i2c.org/community/content/ target=_blank rel=noopener>nbgitpuller-based launch buttons</a>. Along the way, we realized that we needed to coordinate development across
<a href=https://next.jupyterbook.org/ target=_blank rel=noopener>Jupyter Book 2</a>],
<a href=https://jupyter.readthedocs.io target=_blank rel=noopener>JupyterHub</a>, and
<a href=https://binderhub.readthedocs.io target=_blank rel=noopener>BinderHub</a>.</p><figure id=figure-the-three-projects-jupyter-book-binderhub-and-jupyterhub-that-needed-to-work-together-to-enable-bring-your-own-binderhub-workflows><div class="d-flex justify-content-center"><div class=w-100><img src=./featured.png alt="The three projects (Jupyter Book, BinderHub, and JupyterHub) that needed to work together to enable 'bring your own binderhub' workflows." loading=lazy data-zoomable></div></div><figcaption>The three projects (Jupyter Book, BinderHub, and JupyterHub) that needed to work together to enable &lsquo;bring your own binderhub&rsquo; workflows.</figcaption></figure><h2 id=getting-jupyter-book-to-discover-jupyter-hub>Getting Jupyter Book to discover Jupyter Hub
<a class=header-anchor href=#getting-jupyter-book-to-discover-jupyter-hub>#</a></h2><p>As we began developing this workflow, we realized that there was a blocker in the JupyterHub and BinderHub ecosystem that needed to be fixed. We needed a way to <strong>ask a JupyterHub whether it had an unauthenticated end-point for service discovery</strong>. Basically, a way to ask a hub &ldquo;what kind of hub are you, and how can we launch an interactive session on you?&rdquo; Doing this is simple-enough - JupyterHub already has a way of reporting its version and application type, which allows us to infer how to launch interactive sessions. But, we hit a snag in an HTML context.</p><p>By default, JupyterHub disallows certain kinds of
<a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS target=_blank rel=noopener>Cross-Origin Resource Sharing</a> (CORS) requests, in order to restrict other applications from abusing a JupyterHub&rsquo;s API. If you hit parts of a JupyterHub API from <em>the command line</em>, things work fine. But if you do the same thing via JavaScript from a website, the request is disallowed. This was a problem if we want Jupyter Book (a web application) to be able to make requests of JupyterHub&rsquo;s API.</p><p>So, we realized that we needed to make an <strong>upstream contribution in JupyterHub</strong> in order to <strong>enable an interaction between JupyterHub and Jupyter Book</strong>. In this case, it was a relatively simple fix: allowing CORS requests for the specific API endpoint we needed (which is a very lightweight endpoint that is not vulnerable to security risks, and is broadly useful to make accessible)<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>. That resulted in two PRs:</p><ul><li><a href=https://github.com/jupyterhub/jupyterhub/pull/4966 target=_blank rel=noopener><i class='fa-brands fa-github'></i> jupyterhub/jupyterhub#4966</a> allows CORS requests for the API that was needed for service discovery in JupyterHub.</li><li><a href=https://github.com/jupyterhub/binderhub/pull/1906 target=_blank rel=noopener><i class='fa-brands fa-github'></i> jupyterhub/binderhub#1906</a> enables this workflow on a BinderHub so that its services can be discovered.</li><li><a href=https://github.com/jupyter-book/myst-theme/pull/503 target=_blank rel=noopener><i class='fa-brands fa-github'></i> jupyter-book/myst-theme#503</a> adds new launch button functionality to
<a href=https://next.jupyterbook.org/ target=_blank rel=noopener>Jupyter Book 2</a> that allows readers to bring their own Binder / JupyterHub links for launching. (this is what necessitated the above two PRs)</li></ul><p>As a result of this upstream contribution loop, JupyterHub can now accept API requests at its &ldquo;service discovery&rdquo; endpoint, which means that Jupyter Book (and any other web application) can more easily learn about a hub&rsquo;s capabilities and version.</p><p>We wanted to share this short vignette because it&rsquo;s a good reflection of the kind of value that 2i2c tries to provide, given its role in helping to build and enhance networks of infrastructure, domain communities, and open source communities. In this case, we enabled a <em>cross-project</em> workflow that required knowledge of each project, and a vision for how they could be used together in a way that exceeded the sum of their parts.</p><p>We think there&rsquo;s a lot more potential in these kinds of workflows, and are eager to continue our work to identify and enhance community-centric infrastructure for interactive computing.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>This actually required an interesting bit of team discussion that was much easier with a few 2i2c staff on the JupyterHub team. The original request from Angus was interpreted as opening up the <em>entire hub API</em> to external requests (which is a bad idea!) but we were able to quickly discuss this with the JupyterHub team to clarify that this was only about a very specific API endpoint. This is the kind of communication loop that often goes haywire when you have people contributing to a project without historical relationships to the project&rsquo;s maintainers.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><div class=article-tags><a class="badge badge-light" href=/tag/open-source/>Open-Source</a></div><div class=share-box><ul class=share></ul></div><div class="media author-card content-widget-hr"><a href=/author/chris-holdgraf/><img class="avatar mr-3 avatar-circle" src=/author/chris-holdgraf/avatar_hu239570f3b0123c4756b7a8f15caec1a2_32796_270x270_fill_q75_lanczos_center.jpg alt="Chris Holdgraf"></a><div class=media-body><h5 class=card-title><a href=/author/chris-holdgraf/>Chris Holdgraf</a></h5><h6 class=card-subtitle>Executive Director / Co-lead of Business Development</h6><ul class=network-icon aria-hidden=true><li><a href=mailto:choldgraf@2i2c.org><i class="fas fa-envelope"></i></a></li><li><a href=https://twitter.com/choldgraf target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li><li><a href=https://github.com/choldgraf target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=https://chrisholdgraf.com/ target=_blank rel=noopener><i class="fas fa-globe"></i></a></li></ul></div></div><div class="media author-card content-widget-hr"><a href=/author/angus-hollands/><img class="avatar mr-3 avatar-circle" src=/author/angus-hollands/avatar_hu20f69ef59c88298f5eb2ca612e2f5d16_48021_270x270_fill_q75_lanczos_center.jpg alt="Angus Hollands"></a><div class=media-body><h5 class=card-title><a href=/author/angus-hollands/>Angus Hollands</a></h5><h6 class=card-subtitle>Open Source Applications Engineer</h6><ul class=network-icon aria-hidden=true><li><a href=mailto:ahollands@2i2c.org><i class="fas fa-envelope"></i></a></li><li><a href=https://twitter.com/agoose77 target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li><li><a href=https://fosstodon.org/@agoose77 target=_blank rel=noopener><i class="fab fa-mastodon"></i></a></li><li><a href=https://github.com/agoose77 target=_blank rel=noopener><i class="fab fa-github"></i></a></li></ul></div></div></div></article></div><div class=page-footer><div class=container><footer class=site-footer><div class="row justify-content-center mb-4"><div class="col-6 col-md-4"><h5>About</h5><ul class="nav flex-column"><li class="nav-item mb-2"><a href=/mission class="nav-link p-0 text-muted">Mission and goals</a></li><li class="nav-item mb-2"><a href=/organization class="nav-link p-0 text-muted">Team and organization</a></li><li class="nav-item mb-2"><a href=https://compass.2i2c.org class="nav-link p-0 text-muted">Organizational documentation</a></li><li class="nav-item mb-2"><a href=/jobs class="nav-link p-0 text-muted">Jobs at 2i2c</a></li><li class="nav-item mb-2"><a href=/blog class="nav-link p-0 text-muted">Blog</a></li></ul></div><div class="col-6 col-md-4"><h5>Technical</h5><ul class="nav flex-column"><li class="nav-item mb-2"><a href=https://github.com/2i2c-org class="nav-link p-0 text-muted">GitHub</a></li><li class="nav-item mb-2"><a href=https://docs.2i2c.org/ class="nav-link p-0 text-muted">Documentation</a></li><li class="nav-item mb-2"><a href=https://docs.2i2c.org/about/service/options/ class="nav-link p-0 text-muted">Pricing</a></li></ul></div><div class=col-md-4><form><h5>Subscribe to our newsletter</h5><div><a href="https://2i2c.us2.list-manage.com/subscribe?u=494ab59616acdfc381a699b44&id=94ce07e556">Join our mailing list</a></div></form><h5>Follow us online</h5><style>.footer__brand-icons{font-size:1.3em;display:flex;gap:.5rem}</style><div class=footer__brand-icons><a href=https://github.com/2i2c-org/2i2c-org.github.io><i class="fa-brands fa-github"></i>
</a><a href=https://twitter.com/2i2c_org><i class="fa-brands fa-twitter"></i>
</a><a href=http://eepurl.com/hjHbff><i class="fa-solid fa-envelope"></i></a></div></div></div><div class="license mb-3">© 2024 2i2c. This work is licensed under the <a href=https://creativecommons.org/licenses/by/4.0/>CC-BY 4.0 license</a>.</div><p class=powered-by>Published with <a href="https://hugoblox.com/?utm_campaign=poweredby" target=_blank rel=noopener>Hugo Blox Builder</a> — the free, <a href=https://github.com/HugoBlox/hugo-blox-builder target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></div></div><script src=/js/vendor-bundle.min.ff7771056d34ad9f2de2d8f6a466e748.js></script><script src=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js integrity crossorigin=anonymous></script><script id=search-hit-fuse-template type=text/x-template>
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script><script id=page-data type=application/json>{"use_headroom":true}</script><script src=/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js type=module></script><script src=/en/js/wowchemy.min.7f5ebaff62ae468cff8bb3dd1337bb9b.js></script><script src=/js/wowchemy-map.a26e9d2f7238ba5b868384f1c5bc6477.js type=module></script></body></html>